- content_for :head do
  = javascript_include_tag :defaults
  %script{:type => 'text/javascript', :src => '/javascripts/announcement_refresh.js'}

= user_title_bar(@user)

- if @announcements.length!=0
  .announcementbox
    %span{:class => 'title'}
      Announcements
    #announcementbox-body
      = render :partial => 'announcement', :collection => @announcements

%hr/

- if (Configuration.contest_mode?) and (@user.site!=nil) and (@user.site.started!=true)
  %p=t 'main.start_soon'

- if Configuration.show_tasks_to?(@user)
  .problem-list
    = render :partial => 'problem_title', :collection => @problems, :as => :problem
  .problem-content
    %span{:id => "problem-panel-filler"}
      %b Welcome to Code Jom
      %br/
      Choose problems from the list on the right.
    = render :partial => 'problem', :collection => @problems

%br{:clear=>'both'}/
%hr/

:javascript
  Announcement.registerRefreshEventTimer();

